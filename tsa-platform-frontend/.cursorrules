#### Button Component Client Directive
- ALL Button components that accept onClick handlers MUST have 'use client' directive
- This includes both @/components/button.tsx and @/components/ui/button.tsx
- Any component using Button with onClick must also be a client component
- Event handlers cannot be passed to Client Component props in Next.js App Router

#### API Route Security 

#### AuthGuard Onboarding Route Handling
- AuthGuard MUST allow access to onboarding routes (/onboarding, /(setup)) when valid invitation tokens are present
- Use getInvitationTokenFromURL() to check for valid invitation context
- Never block onboarding flow with authentication requirements for invited users
- This prevents breaking the user onboarding experience with auth security improvements

#### useEffect Infinite Loop Prevention
- NEVER use state variables as dependencies in useEffect that are modified within the same effect
- Use empty dependency arrays [] for initialization effects that call setState
- When reading from state in useEffect initialization, use local variables instead of dependencies
- Pattern: `const initialFormData = { ...formData }` then use `initialFormData` in effect
- This prevents "Maximum update depth exceeded" warnings and infinite re-renders 